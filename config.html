<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>配置 | OneDisc</title>
    <meta name="description" content="Discord 的 OneBot 实现">
    <meta name="generator" content="VitePress v1.0.0-rc.44">
    <link rel="preload stylesheet" href="/assets/style.Dl058EZ5.css" as="style">
    
    <script type="module" src="/assets/app.QcfPh4By.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.84TDCN6B.js">
    <link rel="modulepreload" href="/assets/chunks/theme.aku6ijRb.js">
    <link rel="modulepreload" href="/assets/config.md.Ds2ZFL0x.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-19c990f1><div class="wrapper" data-v-19c990f1><div class="container" data-v-19c990f1><div class="title" data-v-19c990f1><div class="VPNavBarTitle" data-v-19c990f1 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>OneDisc</span><!--[--><!--]--></a></div></div><div class="content" data-v-19c990f1><div class="content-body" data-v-19c990f1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-19c990f1><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-19c990f1 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>主页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/quickstart.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>开始</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/config.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>配置</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/differences.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>差异</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/slash-command.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>命令</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/join-discord.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>讨论</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/download.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>下载</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-19c990f1 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-19c990f1 data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-19c990f1 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-19c990f1><div class="divider-line" data-v-19c990f1></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _config" data-v-39a288b8><div><h1 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h1><p>在首次启动过后，OneDisc 会自动创建一个新的配置文件（<code>config.json</code>）</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;account_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your token here&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;system&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;proxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://127.0.0.1:7890&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;logger&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;level&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;servers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="机器人令牌-account-token" tabindex="-1">机器人令牌（<code>account_token</code>） <a class="header-anchor" href="#机器人令牌-account-token" aria-label="Permalink to &quot;机器人令牌（`account_token`）&quot;">​</a></h2><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串</td><td style="text-align:center;">是</td><td style="text-align:center;">无</td></tr></tbody></table><p>机器人令牌，用于 OneDisc 登陆 Bot 的账号</p><p>参见：<a href="./quickstart.html#如何创建-机器人令牌-bot-token">如何创建 机器人令牌（Bot Token）</a></p><h2 id="系统设置-system" tabindex="-1">系统设置（<code>system</code>） <a class="header-anchor" href="#系统设置-system" aria-label="Permalink to &quot;系统设置（`system`）&quot;">​</a></h2><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">对象</td><td style="text-align:center;">是</td><td style="text-align:center;">无</td></tr></tbody></table><p>OneDisc 高级设置（无特殊需要不建议更改）</p><h3 id="连接-discord-时使用的代理-proxy" tabindex="-1">连接 Discord 时使用的代理（<code>proxy</code>） <a class="header-anchor" href="#连接-discord-时使用的代理-proxy" aria-label="Permalink to &quot;连接 Discord 时使用的代理（`proxy`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串 / 空</td><td style="text-align:center;">是</td><td style="text-align:center;">无</td></tr></tbody></table><h3 id="在群管理员变动事件中使用服务器id-guild-id-for-group-admin" tabindex="-1">在群管理员变动事件中使用服务器ID（<code>guild_id_for_group_admin</code>） <a class="header-anchor" href="#在群管理员变动事件中使用服务器id-guild-id-for-group-admin" aria-label="Permalink to &quot;在群管理员变动事件中使用服务器ID（`guild_id_for_group_admin`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p>启用后，将在群组管理员变动事件（<code>notice.group_admin</code>）中使用群组 ID 填入 <code>group_id</code> 字段，且群组管理员变动时只会触发一次事件</p><p>禁用后，群组管理员变动时将在每个频道触发一次 <code>notice.group_admin</code> 事件</p><h3 id="仅在文字频道触发群管理员变动事件-group-admin-text-channel" tabindex="-1">仅在文字频道触发群管理员变动事件（<code>group_admin_text_channel</code>） <a class="header-anchor" href="#仅在文字频道触发群管理员变动事件-group-admin-text-channel" aria-label="Permalink to &quot;仅在文字频道触发群管理员变动事件（`group_admin_text_channel`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p>启用后，在群组管理员变动时，将不在非文字频道触发 <code>notice.group_admin</code> 事件</p><p>仅在 <code>guild_id_for_group_admin</code> 为 <code>false</code> 时有效</p><h3 id="是否启用群管理员变动事件-enable-group-admin" tabindex="-1">是否启用群管理员变动事件（<code>enable_group_admin</code>） <a class="header-anchor" href="#是否启用群管理员变动事件-enable-group-admin" aria-label="Permalink to &quot;是否启用群管理员变动事件（`enable_group_admin`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>true</code></td></tr></tbody></table><h3 id="日志记录工具配置-logger" tabindex="-1">日志记录工具配置（<code>logger</code>） <a class="header-anchor" href="#日志记录工具配置-logger" aria-label="Permalink to &quot;日志记录工具配置（`logger`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">对象</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>{&quot;level&quot;: 20}</code></td></tr></tbody></table><p>配置日志记录工具时的参数，可参考 <a href="https://docs.python.org/zh-cn/3/library/logging.html?highlight=logging%20basicconfig#logging.basicConfig" target="_blank" rel="noreferrer">Python3 文档</a></p><h3 id="合并转发图片类型-node-image-type" tabindex="-1">合并转发图片类型（<code>node_image_type</code>） <a class="header-anchor" href="#合并转发图片类型-node-image-type" aria-label="Permalink to &quot;合并转发图片类型（`node_image_type`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>jpg</code></td></tr></tbody></table><p>将合并转发消息渲染为图片缓存并发送时使用的图片类型</p><h3 id="数据库地址-database" tabindex="-1">数据库地址（<code>database</code>） <a class="header-anchor" href="#数据库地址-database" aria-label="Permalink to &quot;数据库地址（`database`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>sqlite+aiosqlite:///:memory:</code></td></tr></tbody></table><p>OneDisc 缓存消息使用的数据库地址</p><p>参考 <a href="https://docs.sqlalchemy.org/en/20/core/engines.html#database-urls" target="_blank" rel="noreferrer">Engine Configuration — SQLAlchemy 2.0 Documentation</a></p><p>不支持自动创建数据库</p><blockquote><p>目前可执行版只支持 SQLite3，源码版使用其他数据库需要手动安装依赖</p></blockquote><h3 id="使用静态表情-use-static-face" tabindex="-1">使用静态表情（<code>use_static_face</code>） <a class="header-anchor" href="#使用静态表情-use-static-face" aria-label="Permalink to &quot;使用静态表情（`use_static_face`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p>如启用，将在发送 <code>CQ:face</code> 时使用 QQ 表情包静态图</p><h3 id="忽略不需要的实参-ignore-unneeded-args" tabindex="-1">忽略不需要的实参（<code>ignore_unneeded_args</code>） <a class="header-anchor" href="#忽略不需要的实参-ignore-unneeded-args" aria-label="Permalink to &quot;忽略不需要的实参（`ignore_unneeded_args`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>true</code></td></tr></tbody></table><p>是否忽略动作请求中不需要的参数</p><p>如为 <code>false</code>，将在处理请求中发现不被动作需要的参数时返回 <code>10004 - Unsupported Param</code></p><h3 id="转义-text-段中的-markdown-escape-markdown" tabindex="-1">转义 <code>text</code> 段中的 MarkDown（<code>escape_markdown</code>） <a class="header-anchor" href="#转义-text-段中的-markdown-escape-markdown" aria-label="Permalink to &quot;转义 `text` 段中的 MarkDown（`escape_markdown`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><h3 id="默认最大成员数-default-max-member-count" tabindex="-1">默认最大成员数（<code>default_max_member_count</code>） <a class="header-anchor" href="#默认最大成员数-default-max-member-count" aria-label="Permalink to &quot;默认最大成员数（`default_max_member_count`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">数字</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>-1</code></td></tr></tbody></table><p><code>get_group_info</code> (OneBot V11) 及有关接口 <code>max_member_count</code> 字段内容</p><h3 id="位置消息段默认描述-location-default-content" tabindex="-1">位置消息段默认描述（<code>location_default_content</code>） <a class="header-anchor" href="#位置消息段默认描述-location-default-content" aria-label="Permalink to &quot;位置消息段默认描述（`location_default_content`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>机器人向你发送了一个位置</code></td></tr></tbody></table><h3 id="合并转发换行符替换内容-node-linebreak-replacement" tabindex="-1">合并转发换行符替换内容（<code>node_linebreak_replacement</code>） <a class="header-anchor" href="#合并转发换行符替换内容-node-linebreak-replacement" aria-label="Permalink to &quot;合并转发换行符替换内容（`node_linebreak_replacement`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>&lt;br&gt;</code></td></tr></tbody></table><p>解析合并转发消息节点时用于替换换行符（<code>\n</code>）内容</p><h3 id="wkhtmltopdf-路径-wkhtmltopdf" tabindex="-1">wkhtmltopdf 路径（<code>wkhtmltopdf</code>） <a class="header-anchor" href="#wkhtmltopdf-路径-wkhtmltopdf" aria-label="Permalink to &quot;wkhtmltopdf 路径（`wkhtmltopdf`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串/空</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>null</code></td></tr></tbody></table><p>wkhtmltopdf 可执行程序路径</p><h3 id="是否可以发送语音-can-send-record" tabindex="-1">是否可以发送语音（<code>can_send_record</code>） <a class="header-anchor" href="#是否可以发送语音-can-send-record" aria-label="Permalink to &quot;是否可以发送语音（`can_send_record`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p><code>can_send_record</code> (OneBot V11) 接口中 <code>yes</code> 字段内容</p><h3 id="反向-websocket-最大消息大小-max-message-size" tabindex="-1">反向 WebSocket 最大消息大小（<code>max_message_size</code>） <a class="header-anchor" href="#反向-websocket-最大消息大小-max-message-size" aria-label="Permalink to &quot;反向 WebSocket 最大消息大小（`max_message_size`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">数字</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>1048576</code></td></tr></tbody></table><p>OneBot V11 和 OneBot V12 的反向 WebSocket 连接中最大消息大小，单位为字节，默认 1MB（即 <code>2^20</code>）</p><p>如果在使用过程中出现以下错误请考虑增大这一配置项的数值:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">websockets.exceptions.ConnectionClosedError: sent </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1009</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (message too big); no close frame received</span></span></code></pre></div><h3 id="跳过参数类型检查-skip-params-type-checking" tabindex="-1">跳过参数类型检查（<code>skip_params_type_checking</code>） <a class="header-anchor" href="#跳过参数类型检查-skip-params-type-checking" aria-label="Permalink to &quot;跳过参数类型检查（`skip_params_type_checking`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><h3 id="心跳元事件设置-heartbeat" tabindex="-1">心跳元事件设置（<code>heartbeat</code>） <a class="header-anchor" href="#心跳元事件设置-heartbeat" aria-label="Permalink to &quot;心跳元事件设置（`heartbeat`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">对象</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>{&quot;enable&quot;: true, &#39;interval&#39;: 5000}</code></td></tr></tbody></table><p>OneBot V12 心跳元事件设置</p><h4 id="心跳事件开关-enable" tabindex="-1">心跳事件开关（<code>enable</code>） <a class="header-anchor" href="#心跳事件开关-enable" aria-label="Permalink to &quot;心跳事件开关（`enable`）&quot;">​</a></h4><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>true</code></td></tr></tbody></table><p>是否启用心跳元事件</p><h4 id="心跳事件触发间隔-interval" tabindex="-1">心跳事件触发间隔（<code>interval</code>） <a class="header-anchor" href="#心跳事件触发间隔-interval" aria-label="Permalink to &quot;心跳事件触发间隔（`interval`）&quot;">​</a></h4><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">数字</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>5000</code></td></tr></tbody></table><p>心跳元事件触发间隔（单位：毫秒）</p><h3 id="下载重试次数-download-max-retry-count" tabindex="-1">下载重试次数（<code>download_max_retry_count</code>） <a class="header-anchor" href="#下载重试次数-download-max-retry-count" aria-label="Permalink to &quot;下载重试次数（`download_max_retry_count`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">数字</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>0</code></td></tr></tbody></table><p><code>upload_file</code> 及相关动作下载出错时的重试次数</p><h3 id="隔离动作-action-isolation" tabindex="-1">隔离动作（<code>action_isolation</code>） <a class="header-anchor" href="#隔离动作-action-isolation" aria-label="Permalink to &quot;隔离动作（`action_isolation`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p>启用后将禁止跨协议访问动作</p><h3 id="是否忽略自身事件-ignore-self-events" tabindex="-1">是否忽略自身事件（<code>ignore_self_events</code>） <a class="header-anchor" href="#是否忽略自身事件-ignore-self-events" aria-label="Permalink to &quot;是否忽略自身事件（`ignore_self_events`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>true</code></td></tr></tbody></table><p>如果此项为<code>true</code>，将忽略由 Bot 自身触发的事件</p><h3 id="允许罢工-allow-strike" tabindex="-1">允许罢工（<code>allow_strike</code>） <a class="header-anchor" href="#允许罢工-allow-strike" aria-label="Permalink to &quot;允许罢工（`allow_strike`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p>如果此项为<code>true</code>，将在请求每次执行动作时有<code>10%</code>的概率返回<code>36000</code>（I Am Tried）错误</p><h3 id="在事件中使用空字符串代替不支持的子类型-use-empty-for-unsupported-subtype" tabindex="-1">在事件中使用空字符串代替不支持的子类型（<code>use_empty_for_unsupported_subtype</code>） <a class="header-anchor" href="#在事件中使用空字符串代替不支持的子类型-use-empty-for-unsupported-subtype" aria-label="Permalink to &quot;在事件中使用空字符串代替不支持的子类型（`use_empty_for_unsupported_subtype`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>true</code></td></tr></tbody></table><p>在事件上报中将不支持的子类型替换为空字符串（<code>&quot;&quot;</code>）</p><p>如在<code>channel_message_delete</code>事件中，由于<code>discord.py</code>限制，无法判断消息为主动删除还是被管理员删除，当<code>use_empty_for_unsupported_subtype</code>为<code>false</code>时，这个事件的<code>sub_type</code>将被填入<code>recall</code>（发送者主动删除）；当<code>use_empty_for_unsupported_subtype</code>为<code>true</code>时，这个事件的<code>sub_type</code>将被填入空字符串</p><h3 id="默认私聊消息子类型-default-message-sub-type" tabindex="-1">默认私聊消息子类型（<code>default_message_sub_type</code>） <a class="header-anchor" href="#默认私聊消息子类型-default-message-sub-type" aria-label="Permalink to &quot;默认私聊消息子类型（`default_message_sub_type`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>friend</code></td></tr></tbody></table><p>OneBot V11 中，私聊消息事件（<code>message.private</code>）的 <code>sub_type</code> 字段内容</p><h3 id="缓存优先-cache-first" tabindex="-1">缓存优先（<code>cache_first</code>） <a class="header-anchor" href="#缓存优先-cache-first" aria-label="Permalink to &quot;缓存优先（`cache_first`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p>此项为 <code>true</code> 时，当同一文件同时存在于缓存 URL 索引和本地储存库（<code>.cache/files</code>）时，优先保留缓存（删除本地储存文件）</p><p>此项为 <code>false</code> 时，将删除缓存库的索引</p><h3 id="在启动时检查更新-check-update" tabindex="-1">在启动时检查更新（<code>check_update</code>） <a class="header-anchor" href="#在启动时检查更新-check-update" aria-label="Permalink to &quot;在启动时检查更新（`check_update`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>true</code></td></tr></tbody></table><h3 id="在全局范围同步命令-sync-globally" tabindex="-1">在全局范围同步命令（<code>sync_globally</code>） <a class="header-anchor" href="#在全局范围同步命令-sync-globally" aria-label="Permalink to &quot;在全局范围同步命令（`sync_globally`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p>这可能需要一些时间（大约为一个小时）</p><h3 id="指令响应超时时的提示-command-timeout-message" tabindex="-1">指令响应超时时的提示（<code>command_timeout_message</code>） <a class="header-anchor" href="#指令响应超时时的提示-command-timeout-message" aria-label="Permalink to &quot;指令响应超时时的提示（`command_timeout_message`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>timeout</code></td></tr></tbody></table><h3 id="指令前缀-prefix" tabindex="-1">指令前缀（<code>prefix</code>） <a class="header-anchor" href="#指令前缀-prefix" aria-label="Permalink to &quot;指令前缀（`prefix`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>/</code></td></tr></tbody></table><p>在收到指令调用请求后添加的指令前缀</p><h3 id="同步指令的频道-sync-guilds" tabindex="-1">同步指令的频道（<code>sync_guilds</code>） <a class="header-anchor" href="#同步指令的频道-sync-guilds" aria-label="Permalink to &quot;同步指令的频道（`sync_guilds`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">数组</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>[]</code></td></tr></tbody></table><h3 id="是否忽略不支持的消息段-ignore-unsupported-segment" tabindex="-1">是否忽略不支持的消息段（<code>ignore_unsupported_segment</code>） <a class="header-anchor" href="#是否忽略不支持的消息段-ignore-unsupported-segment" aria-label="Permalink to &quot;是否忽略不支持的消息段（`ignore_unsupported_segment`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p>如为<code>false</code>，将在发送消息并解析到不支持的消息段时返回 <code>10005</code> 错误</p><h3 id="启动完成日志提示内容-started-text" tabindex="-1">启动完成日志提示内容（<code>started_text</code>） <a class="header-anchor" href="#启动完成日志提示内容-started-text" aria-label="Permalink to &quot;启动完成日志提示内容（`started_text`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">字符串</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>OneDisc 已成功启动</code></td></tr></tbody></table><p>OneDisc 完成启动后打印的日志的内容</p><h3 id="是否启用两级群组事件-enable-channel-event" tabindex="-1">是否启用两级群组事件（<code>enable_channel_event</code>） <a class="header-anchor" href="#是否启用两级群组事件-enable-channel-event" aria-label="Permalink to &quot;是否启用两级群组事件（`enable_channel_event`）&quot;">​</a></h3><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">布尔</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>false</code></td></tr></tbody></table><p>如果此项为 <code>true</code>，将以 <code>message.channel</code> 事件推送消息</p><p>如为 <code>false</code> 将以 <code>message.group</code> 事件推送消息</p><h2 id="连接方式-servers" tabindex="-1">连接方式（<code>servers</code>） <a class="header-anchor" href="#连接方式-servers" aria-label="Permalink to &quot;连接方式（`servers`）&quot;">​</a></h2><table><thead><tr><th style="text-align:center;">类型</th><th style="text-align:center;">必须</th><th style="text-align:center;">默认值</th></tr></thead><tbody><tr><td style="text-align:center;">数组</td><td style="text-align:center;">是</td><td style="text-align:center;">无</td></tr></tbody></table><p>设置 OneDisc 的连接方式，可以创建多个连接方式</p><h3 id="onebot-v12" tabindex="-1">OneBot V12 <a class="header-anchor" href="#onebot-v12" aria-label="Permalink to &quot;OneBot V12&quot;">​</a></h3><details><summary>HTTP</summary><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.0.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;protocol_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;access_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;event_enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;event_buffer_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th>项目</th><th>类型</th><th>必须</th><th>默认值</th><th>备注</th></tr></thead><tbody><tr><td><code>type</code></td><td>字符串</td><td>是</td><td>无</td><td>连接的类型，为<code>http</code></td></tr><tr><td><code>protocol_version</code></td><td>数字</td><td>否</td><td><code>12</code></td><td>协议版本，为 <code>12</code></td></tr><tr><td><code>host</code></td><td>字符串</td><td>否</td><td><code>0.0.0.0</code></td><td>HTTP 服务器 IP</td></tr><tr><td><code>port</code></td><td>数字</td><td>否</td><td><code>8080</code></td><td>HTTP 服务器端口</td></tr><tr><td><code>access_token</code></td><td>字符串/空</td><td>是</td><td><code>null</code></td><td>访问令牌</td></tr><tr><td><code>event_enabled</code></td><td>布尔</td><td>否</td><td><code>false</code></td><td>是否启用 <code>get_latest_events</code> 元动作</td></tr><tr><td><code>event_buffer_size</code></td><td>数字</td><td>否</td><td><code>0</code></td><td>事件缓冲区大小</td></tr></tbody></table></details><details><summary>HTTP WebHook</summary><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http-webhook&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;protocol_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;access_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;timeout&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th>项目</th><th>类型</th><th>必须</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>type</code></td><td>字符串</td><td>是</td><td>无</td><td>连接类型，为<code>http-webhook</code></td></tr><tr><td><code>protocol_version</code></td><td>数字</td><td>否</td><td><code>12</code></td><td>协议版本，为 <code>12</code></td></tr><tr><td><code>url</code></td><td>字符串</td><td>是</td><td>无</td><td>上报地址</td></tr><tr><td><code>access_token</code></td><td>字符串/空</td><td>否</td><td><code>null</code></td><td>访问令牌</td></tr><tr><td><code>timeout</code></td><td>数字</td><td>否</td><td><code>0</code></td><td>超时时间（单位毫秒，为<code>0</code>不启用）</td></tr></tbody></table></details><details><summary>WebSocket</summary><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ws&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;protocol_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.0.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5700</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;access_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th>项目</th><th>类型</th><th>必须</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>type</code></td><td>字符串</td><td>是</td><td>无</td><td>连接类型，为<code>ws</code></td></tr><tr><td><code>protocol_version</code></td><td>数字</td><td>否</td><td><code>12</code></td><td>协议版本，为 <code>12</code></td></tr><tr><td><code>port</code></td><td>数字</td><td>否</td><td><code>5700</code></td><td>WebSocket 服务器端口</td></tr><tr><td><code>host</code></td><td>字符串</td><td>否</td><td><code>0.0.0.0</code></td><td>WebSocket 服务器 IP</td></tr><tr><td><code>access_token</code></td><td>字符串/空</td><td>否</td><td><code>null</code></td><td>访问令牌</td></tr></tbody></table></details><details><summary>反向 WebSocket</summary><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ws-reverse&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;protocol_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;access_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;reconnect_interval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th>项目</th><th>类型</th><th>必须</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>type</code></td><td>字符串</td><td>是</td><td>无</td><td>连接类型，为<code>ws-reverse</code></td></tr><tr><td><code>protocol_version</code></td><td>数字</td><td>否</td><td><code>12</code></td><td>协议版本，为 <code>12</code></td></tr><tr><td><code>url</code></td><td>字符串</td><td>是</td><td>无</td><td>WebSocket 客户端连接地址</td></tr><tr><td><code>access_token</code></td><td>字符串/空</td><td>否</td><td><code>null</code></td><td>访问令牌</td></tr><tr><td><code>reconnect_interval</code></td><td>数字</td><td>否</td><td><code>5000</code></td><td>重连间隔（单位毫秒）</td></tr></tbody></table></details><h3 id="onebot-v11" tabindex="-1">OneBot V11 <a class="header-anchor" href="#onebot-v11" aria-label="Permalink to &quot;OneBot V11&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>在所有采用 OneBot V11 标准的连接中，请确保指定 <code>&quot;protocol_version&quot;: 11</code>（默认值为 <code>12</code> ）。</p><p>若不正确设定，将会收到「无效的连接类型或协议版本」的提示。</p></div><details><summary>HTTP</summary><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;protocol_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.0.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5700</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;access_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th>项目</th><th>类型</th><th>必须</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>type</code></td><td>字符串</td><td>是</td><td>无</td><td>连接类型，为 <code>http</code></td></tr><tr><td><code>protocol_version</code></td><td>数字</td><td>是</td><td><code>12</code></td><td>协议版本，为 <code>11</code></td></tr><tr><td><code>host</code></td><td>字符串</td><td>否</td><td><code>0.0.0.0</code></td><td>HTTP 服务器 IP</td></tr><tr><td><code>port</code></td><td>数字</td><td>否</td><td><code>5700</code></td><td>HTTP 服务器端口</td></tr><tr><td><code>access_token</code></td><td>字符串/空</td><td>否</td><td><code>null</code></td><td>访问令牌</td></tr></tbody></table></details><details><summary>HTTP Post</summary><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http-post&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;protocol_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;timeout&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;secret&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th>项目</th><th>类型</th><th>必须</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>type</code></td><td>字符串</td><td>是</td><td>无</td><td>连接类型，为 <code>http</code></td></tr><tr><td><code>protocol_version</code></td><td>数字</td><td>是</td><td><code>12</code></td><td>协议版本，为 <code>11</code></td></tr><tr><td><code>url</code></td><td>字符串</td><td>是</td><td>无</td><td>HTTP 连接地址</td></tr><tr><td><code>secret</code></td><td>字符串/空</td><td>否</td><td><code>null</code></td><td>请求密钥</td></tr></tbody></table></details><details><summary>WebSocket</summary><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ws&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;protocol_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.0.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6700</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;access_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th>项目</th><th>类型</th><th>必须</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>type</code></td><td>字符串</td><td>是</td><td>无</td><td>连接类型，为<code>ws</code></td></tr><tr><td><code>protocol_version</code></td><td>数字</td><td>否</td><td><code>12</code></td><td>协议版本，为 <code>11</code></td></tr><tr><td><code>port</code></td><td>数字</td><td>否</td><td><code>6700</code></td><td>WebSocket 服务器端口</td></tr><tr><td><code>host</code></td><td>字符串</td><td>否</td><td><code>0.0.0.0</code></td><td>WebSocket 服务器 IP</td></tr><tr><td><code>access_token</code></td><td>字符串/空</td><td>否</td><td><code>null</code></td><td>访问令牌</td></tr></tbody></table></details><details><summary>反向 WebSocket</summary><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ws-reverse&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;protocol_version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;api_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;event_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;reconnect_interval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;use_universal_client&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;access_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table><thead><tr><th>项目</th><th>类型</th><th>必须</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>type</code></td><td>字符串</td><td>是</td><td>无</td><td>连接类型，为<code>ws-reverse</code></td></tr><tr><td><code>protocol_version</code></td><td>数字</td><td>否</td><td><code>12</code></td><td>协议版本，为 <code>11</code></td></tr><tr><td><code>url</code></td><td>字符串</td><td>否</td><td>无</td><td>WebSocket 服务器地址</td></tr><tr><td><code>api_url</code></td><td>字符串</td><td>否</td><td>无</td><td>WebSocket API 服务器地址，为空时填入 <code>url</code> 字段的配置</td></tr><tr><td><code>event_url</code></td><td>字符串</td><td>否</td><td>无</td><td>WebSocket Event 服务器地址，为空时填入 <code>url</code> 字段的配置</td></tr><tr><td><code>use_universal_client</code></td><td>布尔</td><td>否</td><td><code>false</code></td><td>是否启用 WebSocket Universal 客户端</td></tr><tr><td><code>access_token</code></td><td>字符串/空</td><td>否</td><td><code>null</code></td><td>访问令牌</td></tr></tbody></table></details></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"download.md\":\"D0Sd_uId\",\"slash-command.md\":\"C_SY_zt1\",\"diff-v11.md\":\"n6XXM9PN\",\"differences.md\":\"lHTIEwhq\",\"index.md\":\"BXPqBGDv\",\"join-discord.md\":\"C8JG_5_Y\",\"quickstart.md\":\"DyRmniBq\",\"config.md\":\"Ds2ZFL0x\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OneDisc\",\"description\":\"Discord 的 OneBot 实现\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"主页\",\"link\":\"/\"},{\"text\":\"开始\",\"link\":\"/quickstart.md\"},{\"text\":\"配置\",\"link\":\"/config.md\"},{\"text\":\"差异\",\"link\":\"/differences.md\"},{\"text\":\"命令\",\"link\":\"/slash-command.md\"},{\"text\":\"讨论\",\"link\":\"/join-discord.md\"},{\"text\":\"下载\",\"link\":\"/download.md\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>