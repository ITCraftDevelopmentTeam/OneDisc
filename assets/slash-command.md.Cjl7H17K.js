import{_ as s,c as i,o as a,a2 as n}from"./chunks/framework.CQ12TVIp.js";const u=JSON.parse('{"title":"斜线命令","description":"","frontmatter":{},"headers":[],"relativePath":"slash-command.md","filePath":"slash-command.md"}'),e={name:"slash-command.md"},t=n(`<h1 id="斜线命令" tabindex="-1">斜线命令 <a class="header-anchor" href="#斜线命令" aria-label="Permalink to &quot;斜线命令&quot;">​</a></h1><p>自 <code>0.2.2.2</code> 后，OneDisc 开始支持使用 Discord 原生的斜线命令</p><h2 id="指令列表" tabindex="-1">指令列表 <a class="header-anchor" href="#指令列表" aria-label="Permalink to &quot;指令列表&quot;">​</a></h2><p>所有的指令保存在 OneDisc 工作目录下的 <code>commands.json</code> 文件（需要您手动创建）， OneDisc 在启动时会读取它并在 Discord 上注册相应命令</p><p>这是一个例子：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cave&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;guild&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1006772208460365845</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;回声洞&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;help&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;guild&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1006772208460365845</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;获取指令帮助&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><code>commands.json</code> 是一个数组，每一项的内容是一个对象，包含注册指令时的参数，常用的参数如下：</p><ul><li><code>name</code>: 指令名称</li><li><code>description</code>: 指令简介</li></ul><p>事实上，除了 <code>name</code> 的参数都是可选的</p><blockquote><p>更多参数详见 <a href="https://discordpy.readthedocs.io/en/stable/interactions/api.html?highlight=commandtree#discord.app_commands.CommandTree.command" target="_blank" rel="noreferrer">此处</a></p></blockquote><h2 id="开启全局同步" tabindex="-1">开启全局同步 <a class="header-anchor" href="#开启全局同步" aria-label="Permalink to &quot;开启全局同步&quot;">​</a></h2><ol><li>删除指令指令列表的 <code>guild</code>、<code>guilds</code> 参数（将指令设为全局指令）</li><li>将 <code>system.sync_globally</code> 配置设为 <code>true</code></li><li>重新启动 OneDisc</li></ol><p>请注意，Discord 在全局范围同步指令非常缓慢（大约需要一个小时）</p>`,13),l=[t];function h(p,o,d,k,c,r){return a(),i("div",null,l)}const g=s(e,[["render",h]]);export{u as __pageData,g as default};
